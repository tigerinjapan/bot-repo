<!DOCTYPE html>
<html lang="ja">

<head>
    <script src="/templates/header.js"></script>
    <script src="/templates/userInfo.js"></script>
    <title>{{ title }}</title>
</head>

<body>
    <form id="userInfo" method="post" action="/user/update">
        <table class="userTbl">
            <tr>
                <th colspan="2">{{ title }}</th>
            </tr>
            <tr>
                <td>ID</td>
                <td>
                    <input type="text" value="{{ user_info['sUserId'] }}" disabled>
                    <input type="text" id="userId" name="userId" value="{{ user_info['sUserId'] }}" hidden>
                </td>
            </tr>
            <tr>
                <td>名前</td>
                <td><input type="text" id="userName" name="userName"
                        pattern="^([a-zA-Z0-9\u4E00-\u9FFF\u3040-\u309F\u30A0-\u30FF\uFF01-\uFF5E]+{4,})$"
                        value="{{ user_info['sUserName'] }}" required>
                    （4文字以上）
                </td>
            </tr>
            <tr>
                <td><input type="text" id="userDiv" name="userDiv" value="{{ user_info['sUserDiv'] }}" hidden></td>
            </tr>
            <tr>
                <td>パスワード</td>
                <td><input type="password" id="userPw" name="userPw" value="{{ user_info['sUserPw'] }}"
                        pattern="^([a-zA-Z0-9]{4,})$" required>
                    （英数字4文字以上）
                </td>
            </tr>
            <tr>
                <td>パスワード（再）</td>
                <td><input type="password" id="pwCheck" value="{{ user_info['sUserPw'] }}" required>
                    （もう一度入力）
                </td>
            </tr>
            <tr>
                <td>生年</td>
                <td>
                    <select id="year" name="year" required></select>
                </td>
            </tr>
            <tr>
                <td>性別</td>
                <td>
                    <input type="radio" name="sex" value="0" required>男
                    <input type="radio" name="sex" value="1">女
                </td>
            </tr>
            <tr>
                <td>住所</td>
                <td>
                    <input type="text" id="zipCd" name="zipCd" minlength="7" maxlength="7" pattern="\d{7}"
                        value="{{ user_info['sZipCd'] }}" placeholder="1000001" required>
                    <input type="button" id="searchAddressBtn" value="郵便番号検索" onclick="getAddress()">
                </td>
            </tr>
            <tr>
                <td></td>
                <td>
                    <input type="text" id="pref" name="pref" style="width:100px" value="{{ user_info['sPref'] }}"
                        readonly>
                    <input type="text" id="town" name="town" style="width:100px" value="{{ user_info['sTown'] }}"
                        readonly>
                </td>
            </tr>
            <tr>
                <td>最寄駅</td>
                <td>
                    <select id="line" name="line" onchange="changeLine()" required></select>
                    <select id="station" name="station" required></select>
                </td>
            </tr>
            <tr>
                <td>電話番号</td>
                <td>
                    <input type="tel" name="tel" minlength="9" maxlength="11" pattern="\d{9,11}"
                        value="{{ user_info['sTel'] }}" placeholder="0312345678">
                    （「-」無しで入力）
                </td>
            </tr>
            <tr>
                <td colspan="2" align="center">
                    <button type="submit" onclick="checkUserInfo()">登録</button>
                </td>
            </tr>
            <tr>
                <input type="text" id="seq" name="seq" value="{{ user_info['nSeq'] }}" hidden>
            </tr>
        </table>
    </form>
    <script>
        setYear("{{ user_info['nYear'] }}");
        setSex("{{ user_info['nSex'] }}");
        setAddress("{{ user_info['sLine'] }}", "{{ user_info['sStation'] }}");
    </script>
</body>

<footer>
    <a href="/">ホーム画面へ</a>
</footer>

</html>