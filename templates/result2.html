<!DOCTYPE html>
<html lang="ja">

<head>
  <title data-key="title"></title>
  <script src="/templates/const.js"></script>
  <script src="/templates/func.js"></script>
  {% if app_name == 'travel' %}
  <script src="/templates/travel.js"></script>
  {% elif app_name == 'itQuiz' %}
  <script src="/templates/itQuiz.js"></script>
  <link rel="stylesheet" href="/templates/itQuiz.css" />
  {% elif app_name == 'review' %}
  <script src="/templates/review.js"></script>
  {% elif '_design' in app_name %}
  <script src="/templates/marked.min.js"></script>
  <script src="/templates/design.js"></script>
  {% endif %}
</head>

<body>
  <p id="appName" hidden>{{ app_name }}</p>
  <p id="langCd" hidden>{{ lang_cd }}</p>
  <p id="userName" hidden>{{ user_name }}</p>
  <p id="dataList" hidden>{{ data_list }}</p>

  {% if app_name == 'travel' %}
  <div class="container">
    <header>
      <h1 id="page-title"></h1>
      <p class="subtitle" id="page-subtitle"></p>
    </header>

    <div class="controls">
      <select id="lang-select" hidden></select><br />
      <p>City</p>
      <select id="region-select"></select>
    </div>

    <div class="card-grid" id="card-grid"></div>
  </div>

  <div id="dialog" class="dialog">
    <div class="dialog-content">
      <span class="close-btn">&times;</span>
      <h3 id="dialog-title"></h3>
      <p id="dialog-text"></p>
    </div>
  </div>

  {% elif app_name == 'itQuiz' %}
  <!-- メインのコンテナ -->
  <div class="container" id="main-container">
    <!-- コンテンツはJavaScriptで動的にレンダリングされます -->
  </div>

  <!-- モーダル（ダイアログ）要素 -->
  <dialog id="message-dialog">
    <p id="dialog-content" style="text-align: center; font-size: 1.2rem; font-weight: 700; color: #ff69b4;"></p>
    <div class="flex-center">
      <button class="btn btn-primary" id="dialog-close-btn" onclick="closeDialog('message-dialog')">Close</button>
    </div>
  </dialog>

  <dialog id="rule-dialog">
    <h3 style="text-align: center; color: #4682b4;">Game Rules</h3>
    <div id="rule-content" style="font-size: 0.95rem; line-height: 1.6; color: #555;"></div>
    <div class="flex-center" style="margin-top: 20px;">
      <button class="btn btn-secondary" onclick="closeDialog('rule-dialog')">Close</button>
    </div>
  </dialog>

  <dialog id="choice-dialog">
    <h3 id="choice-title" style="text-align: center; color: #ff69b4;">Select a Character</h3>
    <p id="choice-instruction" style="text-align: center; font-size: 0.9rem; color: #888;"></p>
    <div id="choice-buttons-container" class="choice-buttons-container">
      <!-- 選択肢ボタンはここに動的に挿入されます -->
    </div>
    <div class="flex-center" style="margin-top: 20px;">
      <button class="btn btn-secondary" onclick="closeDialog('choice-dialog')">Close</button>
    </div>
  </dialog>

  {% elif app_name == 'review' %}
  <div id="divBoard" class="board-container">
    <h1></h1>
    <form id="formReview">
      <div id="divReview"></div>
      <table id="tableReview"></table>
      <button type="submit" id="save-btn" class="save-btn" onclick="sendReview()"></button>
    </form>
    <p id="message" class="msg"></p>
  </div>

  {% elif '_design' in app_name %}
  <div id="markdown-container" class="container"></div>

  {% else %}
  <div id="container"></div>

  {% endif %}
</body>

<footer>
  <script src="/templates/footer.js"></script>
  <script>
    writeFooter("{{ user_div }}");
  </script>
</footer>

</html>