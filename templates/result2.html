<!DOCTYPE html>
<html lang="ja">

<head>
  <title data-key="title"></title>
  <script src="/templates/const.js"></script>
  <script src="/templates/func.js"></script>
  {% if app_name == 'travel' %}
  <script src="/templates/travel.js"></script>
  {% elif app_name == 'number' %}
  <script src="/templates/number.js"></script>
  <link rel="stylesheet" href="/templates/number.css" />
  {% elif app_name == 'sudoku' %}
  <link rel="stylesheet" href="/templates/sudoku.css" />
  <script src="/templates/sudoku.js"></script>
  {% elif app_name == 'itQuiz' %}
  <link rel="stylesheet" href="/templates/itQuiz.css" />
  <script src="/templates/itQuiz.js"></script>
  {% elif app_name == 'review' %}
  <script src="/templates/review.js"></script>
  {% elif app_name == 'dashboard' %}
  <link rel="stylesheet" href="/templates/dashboard.css" />
  <script src="/templates/chart.js"></script>
  <script src="/templates/dashboard.js"></script>
  {% elif '_design' in app_name %}
  <script src="/templates/marked.min.js"></script>
  <script src="/templates/design.js"></script>
  {% endif %}

  <link rel="icon" href="/templates/favicon.ico" type="image/x-icon">
</head>

<body>
  <p id="appName" hidden>{{ app_name }}</p>
  <p id="userName" hidden>{{ user_name }}</p>
  <p id="langCd" hidden>{{ lang_cd }}</p>
  <p id="dataList" hidden>
    {% if app_name == 'number' or app_name == 'itQuiz' %}
    {{ data_list | tojson }}
    {% else %}
    {{ data_list }}
    {% endif %}
  </p>

  {% if app_name == 'travel' %}
  <div class="container">
    <header>
      <h1 id="page-title"></h1>
      <p class="subtitle" id="page-subtitle"></p>
    </header>

    <div class="controls">
      <select id="lang-select" hidden></select><br />
      <p>City</p>
      <select id="region-select"></select>
    </div>

    <div class="card-grid" id="card-grid"></div>
  </div>

  <div id="dialog" class="dialog">
    <div class="dialog-content">
      <span class="close-btn">&times;</span>
      <h3 id="dialog-title"></h3>
      <p id="dialog-text"></p>
    </div>
  </div>

  {% elif app_name == 'number' %}
  <div class="main">
    <h1 id="title"></h1>
    <div>
      <p id="level"></p>
      <p id="levelVal" hidden></p>
      <p id="rank">
        <span id="rank-user"><img src="/templates/rank1.png" alt="rank1" /></span>
        <span id="rank-time"></span>
      </p>
    </div>
    <div>
      <p id="number-display"></p>
      <p id="timer"></p>
      <button type="button" id="btnRule">
        <img src="/templates/click.png" alt="click" />
      </button>
    </div>
    <div id="exprArea" class="expr-area"></div>
    <button type="button" id="btnStart"></button>
    <button type="button" id="btnChk"></button>
    <button type="button" id="btnNext" onclick="setStop()"></button>
    <div id="message"></div>
    <div id="number-answer" hidden></div>
  </div>

  {% elif app_name == 'sudoku' %}
  <div id="app">
    <div id="start-screen" class="screen">
      <h1>NEON SUDOKU</h1>

      <div id="language-controls">
        <label for="language-select">LANGUAGE:</label>
        <select id="language-select">
          <option value="ja" selected>日本語</option>
          <option value="ko">한국어</option>
          <option value="en">ENGLISH</option>
        </select>
      </div>

      <div id="level-controls">
        <label for="level-select">LEVEL:</label>
        <select id="level-select">
          <option value="easy">EASY</option>
          <option value="medium" selected>MEDIUM</option>
          <option value="hard">HARD</option>
        </select>
      </div>

      <div id="user-input-container">
        <label for="user-name-input">USER NAME:</label>
        <input type="text" id="user-name-input" maxlength="10" placeholder="Max 10 Chars">
      </div>

      <button id="start-button" disabled>START GAME</button>

      <div id="rank-container">
        <h2>RANK TOP 5</h2>
        <table id="rank-table">
          <thead>
            <tr>
              <th>NAME</th>
              <th>TIME</th>
              <th>DATE</th>
            </tr>
          </thead>
          <tbody id="rank-tbody">
            <!-- ランキングデータ -->
          </tbody>
        </table>
      </div>
    </div>

    <div id="game-screen" class="screen">
      <div id="game-info-header">
        <!-- sudoku.jsで挿入 (LEVEL, BEST TIME, USER) -->
      </div>

      <div id="timer-display">
        <div id="timer-text"></div>
        <div id="progress-bar-container">
          <div id="progress-bar"></div>
        </div>
      </div>

      <div id="sudoku-board">
      </div>

      <div id="input-panel">
        <div class="input-button" data-value="1">1</div>
        <div class="input-button" data-value="2">2</div>
        <div class="input-button" data-value="3">3</div>
        <div class="input-button" data-value="4">4</div>
        <div class="input-button" data-value="5">5</div>
        <div class="input-button" data-value="6">6</div>
        <div class="input-button" data-value="7">7</div>
        <div class="input-button" data-value="8">8</div>
        <div class="input-button" data-value="9">9</div>
        <div class="input-button" data-value="0">×</div>
      </div>

      <div id="game-controls">
        <button id="rule-button">GAME RULE</button>
        <button id="hint-button">HINT</button>
        <button id="home-button">GO HOME</button>
      </div>
    </div>

    <div id="modal-overlay">
      <div id="modal-content">
        <button id="modal-close-button">X</button>
        <h3 id="modal-title"></h3>
        <div id="modal-body">
        </div>
      </div>
    </div>
  </div>

  {% elif app_name == 'itQuiz' %}
  <!-- メインのコンテナ -->
  <div class="container" id="main-container">
    <!-- コンテンツはJavaScriptで動的にレンダリングされます -->
  </div>

  <!-- モーダル（ダイアログ）要素 -->
  <dialog id="message-dialog">
    <p id="dialog-content"></p>
    <div class="flex-center">
      <button class="btn btn-primary" id="dialog-close-btn" onclick="closeDialog('message-dialog')">Close</button>
    </div>
  </dialog>

  <dialog id="rule-dialog">
    <h3 id="rule-title">Game Rules</h3>
    <div id="rule-content"></div>
    <div class="flex-center">
      <button class="btn btn-secondary" onclick="closeDialog('rule-dialog')">Close</button>
    </div>
  </dialog>

  <dialog id="choice-dialog">
    <h3 id="choice-title">Select a Character</h3>
    <p id="choice-instruction"></p>
    <div id="choice-buttons-container" class="choice-buttons-container">
      <!-- 選択肢ボタンはここに動的に挿入されます -->
    </div>
    <div class="flex-center">
      <button class="btn btn-secondary" onclick="closeDialog('choice-dialog')">Close</button>
    </div>
  </dialog>

  {% elif app_name == 'review' %}
  <div id="divBoard" class="board-container">
    <h1></h1>
    <form id="formReview">
      <div id="divReview"></div>
      <table id="tableReview"></table>
      <button type="submit" id="save-btn" class="save-btn" onclick="sendReview()"></button>
    </form>
    <p id="message" class="msg"></p>
  </div>

  {% elif app_name == 'dashboard' %}
  <div class="header">
    <div class="container">
      <h1 id="header-title"></h1>
    </div>
  </div>

  <div class="container">
    <div class="controls">
      <label id="time-period-label" for="time-period"></label>
      <select id="time-period"></select>
    </div>
    <div class="dashboard-grid" id="dashboard-grid"></div>
  </div>

  {% elif '_design' in app_name %}
  <div id="markdown-container" class="container"></div>

  {% else %}
  <div id="container"></div>

  {% endif %}
</body>

<footer>
  <script src="/templates/footer.js"></script>
  <script>
    writeFooter("{{ user_div }}");
  </script>
</footer>

</html>